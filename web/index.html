<!doctype html>
<html lang="ar" dir="rtl">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
	<meta name="mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<link rel="apple-touch-icon" href="/web/icons/icon-192.png" />
	<title>تشغيل التطبيق - PWA</title>
	<link rel="manifest" href="/web/manifest.webmanifest" />
	<meta name="theme-color" content="#0d9488" />
	<link rel="icon" href="/web/icons/icon-192.png" />
	<style>
		:root { color-scheme: dark; }
		* { box-sizing: border-box; }
		body { font-family: system-ui, Tahoma, Arial; margin: 0; background: #0b1220; color: #e5e7eb; }
		.container { max-width: 560px; margin: 0 auto; padding: 16px; }
		.card { background: #0f172a; border: 1px solid #1f2937; border-radius: 12px; padding: 16px; }
		.h1 { font-size: 18px; margin: 0 0 8px; font-weight: 700; }
		.h2 { font-size: 16px; margin: 0 0 8px; font-weight: 700; }
		.p { margin: 0 0 12px; color: #cbd5e1; line-height: 1.5; }
		.btn { display: inline-flex; align-items: center; gap: 6px; padding: 8px 12px; border-radius: 10px; background: #0d9488; color: #fff; text-decoration: none; border: 0; cursor: pointer; font-size: 14px; }
		.btn.secondary { background: #334155; }
		.btn:disabled { opacity: .6; cursor: not-allowed; }
		.row { display: flex; gap: 8px; flex-wrap: wrap; }
		.note { font-size: 12px; color: #94a3b8; margin-top: 8px; }
		code { background: #111827; padding: 2px 6px; border-radius: 6px; border: 1px solid #1f2937; font-family: ui-monospace, Menlo, monospace; font-size: 12px; }
		.footer { text-align: center; color: #94a3b8; font-size: 12px; margin-top: 12px; }
	</style>
</head>
<body>
	<div class="container">
		<div class="card">
			<h1 class="h1">تشغيل التطبيق محلياً (Termux) + تثبيت PWA</h1>
			<p class="p">يمكنك تثبيت التطبيق كـ PWA على جهازك، وتشغيل التطبيق محلياً عبر Termux بالنقر على زر "بدء التطبيق".</p>
			<div class="row">
				<button id="installBtn" class="btn secondary" disabled>تثبيت التطبيق (PWA)</button>
				<button id="startBtn" class="btn">بدء التطبيق (Termux)</button>
			</div>
			<p id="status" class="note"></p>
		</div>
		<div class="card" style="margin-top:12px;">
			<h2 class="h2">التحضير على Termux</h2>
			<ol class="p" style="margin:0; padding-inline-start: 20px;">
				<li>ثبّت <b>Termux</b> من F-Droid.</li>
				<li>(اختياري) أنشئ سكربت: <code>~/start_app.sh</code> ثم <code>chmod +x ~/start_app.sh</code>.</li>
				<li>(اختياري) أضف ملف <code>termux-url-opener</code> في <code>~/bin/</code> لالتقاط الروابط وتشغيل السكربت.</li>
			</ol>
			<p class="note">زر Termux يعمل على أندرويد فقط، وقد تحتاج للسماح بفتح التطبيقات من المتصفح.</p>
		</div>
		<p class="footer">يُفضّل فتح الصفحة عبر HTTPS لتثبيت PWA.</p>
	</div>
	<script src="/web/app.js"></script>
</body>
</html>