@echo off
chcp 65001 >nul

REM ๐ต ููู ุชุดุบูู ุชุทุจูู ุงูุนูุงูุฉ ุงูุฒุฑูุงุก ูููููุฏูุฒ
REM Blue Badge Application Runner for Windows

echo ๐ต ุชุทุจูู ุงูุนูุงูุฉ ุงูุฒุฑูุงุก ุงูุดุงูู
echo Blue Badge Complete Application
echo ==================================================

REM ุงูุชุญูู ูู ูุฌูุฏ ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
if not exist "venv" (
    echo โ ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ ุบูุฑ ููุฌูุฏุฉ
    echo ๐ ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ ุฌุฏูุฏุฉ...
    python -m venv venv
)

REM ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
echo ๐ง ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ...
call venv\Scripts\activate.bat

REM ุงูุชุญูู ูู ุงูููุชุจุงุช
echo ๐ฆ ุงูุชุญูู ูู ุงูููุชุจุงุช...
python -c "import tkinter, requests, dns.resolver, bs4, lxml" 2>nul
if errorlevel 1 (
    echo โ๏ธ ุจุนุถ ุงูููุชุจุงุช ููููุฏุฉ
    echo ๐ฅ ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ...
    pip install -r requirements.txt
)

REM ุชุดุบูู ุงูุชุทุจูู
echo ๐ ุจุฏุก ุชุดุบูู ุงูุชุทุจูู...
echo ==================================================

REM ุชุดุบูู ุงูุชุทุจูู ุงูุฑุฆูุณู
python main.py

REM ูู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃ
if errorlevel 1 (
    echo โ ุญุฏุซ ุฎุทุฃ ูู ุชุดุบูู ุงูุชุทุจูู
    echo ๐ง ูุญุงููุฉ ุชุดุบูู ุงูุชุทุจูู ูุจุงุดุฑุฉ...
    python blue_badge_app.py
)

pause